---
title: "Short Course on R Tools"
title-slide-attributes:
  data-background-image: mu-bg.png
  data-background-size: stretch
  data-slide-number: none
format: 
  revealjs:
    transition: fade
    scrollable: true
---

## Motivating Example - What is Data Science?

![](images/webinar/dtsc/what-is-DS-1.png){.absolute left="200" height="600"}

. . .

![](images/webinar/dtsc/what-is-DS-2.png){.absolute left="200" height="600"}

. . .

![](images/webinar/dtsc/what-is-DS-3.png){.absolute left="200" height="600"}

. . .

![](images/webinar/dtsc/what-is-DS-4.png){.absolute left="200" height="600"}

. . .

![](images/webinar/dtsc/what-is-DS-5.png){.absolute left="200" height="600"}

## Motivating Example - Functional Singular Spectrum Analysis {.title style="font-size: 27px;"}

![](images/webinar/fssa/what-is-FSSA.png){.absolute top="72" left="200" height="600"}

. . .

![](images/webinar/fssa/SSA-FSSA-01.png){.absolute left="220" height="620"}

. . .

![](images/webinar/fssa/SSA-FSSA-11.png){.absolute left="220" height="620"}

. . .

![](images/webinar/fssa/SSA-FSSA-12.png){.absolute left="220" height="620"}

. . .

![](images/webinar/fssa/SSA-FSSA-13.png){.absolute left="220" height="620"}

. . .

![](images/webinar/fssa/SSA-FSSA-02.png){.absolute left="220" height="620"}

. . .

![](images/webinar/fssa/SSA-FSSA-03.png){.absolute left="220" height="620"}

. . .

![](images/webinar/fssa/SSA-FSSA-04.png){.absolute left="220" height="620"}

. . .

![](images/webinar/fssa/SSA-FSSA-05.png){.absolute left="220" height="620"}

. . .

![](images/webinar/fssa/SSA-FSSA-06.png){.absolute left="220" height="620"}

. . .

![](images/webinar/fssa/SSA-FSSA-07.png){.absolute left="220" height="620"}

. . .

![](images/webinar/fssa/SSA-FSSA-08.png){.absolute left="220" height="620"}

. . .

![](images/webinar/fssa/SSA-FSSA-09.png){.absolute left="220" height="620"}

. . .

![](images/webinar/fssa/SSA-FSSA-10.png){.absolute left="220" height="620"}

# üß† Session 1: OOP in R

## Motivating Example - OOP

![](images/webinar/oop/FTS-FSSA-Objects-01.png){.absolute width="450"}

. . .

![](images/webinar/oop/FTS-FSSA-Objects-02.png){.absolute left="50" top="300" width="900"}

. . .

![](images/webinar/oop/FTS-FSSA-Objects-03.png){.absolute left="50" top="300" width="900"}

. . .

![](images/webinar/oop/FTS-FSSA-Objects-04.png){.absolute left="50" top="300" width="900"}

. . .

![](images/webinar/oop/FTS-FSSA-Objects-05.png){.absolute left="50" top="300" width="900"}

## Motivating Example - OOP (Cont.)

![](images/webinar/oop/FTS-FSSA-Objects-06.png){.absolute width="450"}

. . .

![](images/webinar/oop/FTS-FSSA-Objects-07.png){.absolute left="250" top="290" width="600"}

. . .

![](images/webinar/oop/FTS-FSSA-Objects-08.png){.absolute left="250" top="290" width="600"}

. . .

![](images/webinar/oop/FTS-FSSA-Objects-09.png){.absolute left="250" top="290" width="600"}

. . .

![](images/webinar/oop/FTS-FSSA-Objects-10.png){.absolute left="250" top="290" width="600"}

. . .

![](images/webinar/oop/FTS-FSSA-Objects-15.png){.absolute  right="0" top="160" width="560"}
![](images/webinar/oop/FTS-FSSA-Objects-10.png){.absolute left="250" top="290" width="600"}

## OOP in R

-   **üß© OOP Paradigms in R**:
    -   Functional OOP: `plot(lm(...))`
    -   Encapsulated OOP: `learner$train()`
    -   Modern tools: `mlr3`, `R6`, `S7`

. . .

-   **üèó OOP Systems**:
    -   **S3**: Lightweight & informal ‚Äî uses `UseMethod()`
    -   **S4**: Formal and type-safe ‚Äî uses `setClass()` and `@`
    -   **R6**: Mutable, used in apps like `shiny`
    -   **S7**: Newest and unified ‚Äî multiple dispatch

------------------------------------------------------------------------

## üõ†Ô∏è OOP in Practice 

### üîÅ Comparison of Systems
<table>
  <thead>
    <tr>
      <th>Sys.</th>
      <th>Style</th>
      <th>Used In</th>
      <th>‚úÖ Pros</th>
      <th>‚ö†Ô∏è Cons</th>
    </tr>
  </thead>
  <tbody>
    <tr class="fragment">
      <td>S3</td>
      <td>Functional</td>
      <td>Base R</td>
      <td>Simple, extensible</td>
      <td>No schema, fragile</td>
    </tr>
    <tr class="fragment">
      <td>S4</td>
      <td>Formal</td>
      <td>Bioconductor</td>
      <td>Type-safe, robust</td>
      <td>Verbose, complex</td>
    </tr>
    <tr class="fragment">
      <td>R6</td>
      <td>Encapsulated</td>
      <td>Shiny, Keras</td>
      <td>Fast, mutable</td>
      <td>Weak type safety</td>
    </tr>
    <tr class="fragment">
      <td>S7</td>
      <td>Unified OOP</td>
      <td>Modern dev</td>
      <td>Combines S3 & S4 benefits</td>
      <td>Still evolving</td>
    </tr>
  </tbody>
</table>

# Session 2:üåê Web Apps with Shiny

## FSSA - Shiny {.title style="font-size: 12px;"}

<iframe class="stretch" data-src="https://fssa.shinyapps.io/FSSA/">

</iframe>

:::{.smallest}
[üîó Open in a browser](https://fssa.shinyapps.io/FSSA/){target="_blank"}
:::

## Web Apps with Shiny

-   ‚ú® Shiny = Interactive web apps in pure R (no HTML/JS!)

-   üì¶ Components:

    -   ui: Layout, inputs/outputs

    -   server: Logic, reactivity

-   üß™ Use Cases:

    -   Dashboards, simulations, teaching tools

-   üîå Inputs & Outputs:

    -   Inputs: sliderInput(), textInput()

    -   Outputs: renderPlot(), renderText(), renderTable()

## Shiny Concepts & Deployment

-   ‚ö°**Reactivity System**:
    -   `reactive()`: memoized reactive expressions
    -   `isolate()`: break reactive chains
    -   `observeEvent()`: trigger actions without outputs
-   üöÄ **Deployment Options**:
    -   `shinyapps.io`, Posit Connect, university servers
    -   **shinylive**: deploy as static site (experimental)
-   ‚úÖ **Best Practices**:
    -   Use `shinytest2` for testing
    -   Modularize with `modules` for scalability
    -   Sketch UI/UX before coding
-   üß† **Hands-on**:
    -   KNN Regression in Shiny
    -   Explore shinyapps gallery for inspiration: https://shiny.posit.co/gallery/

# ‚ö° Session 3: Rcpp ‚Äì High Performance with C++ in R

-   üöÄ **Rcpp** bridges R and C++ for high-performance computing.
-   üèÅ Use cases:
    -   Speed up loops, recursion, and matrix operations
    -   Access C++ libraries and STL
    -   Integrate C++ in R packages
-   üß∞ **Workflows**:
    -   `evalCpp()`: quick one-liners
    -   `cppFunction()`: inline prototypes
    -   `sourceCpp()`: external C++ files with R wrappers

## üî¨ Rcpp in Action

-   üß™ **Examples**:

    -   Odd/Even test (basic)

    ``` r
    bool is_even(int x) {
    return x % 2 == 0;
    }
    ```

    -   VAR(1) simulation with `RcppArmadillo`
    -   Fibonacci benchmark: 200√ó speedup

-   **C++ Types**: `NumericVector`, `IntegerVector`, STL containers

-   **Data conversion**: Seamless mapping between R and C++ objects

-   üì¶ **Packaging**:

    -   Use `LinkingTo: Rcpp` in DESCRIPTION
    -   Automate with `usethis::use_rcpp()`
    -   Maintainable, testable code with `Rcpp::compileAttributes()`

# üêç Session 4: Python in R ‚Äì Interoperability with `reticulate`

-   **Why integrate?**
    -   Leverage Python libraries (ML, CV, NLP)
    -   Avoid rewriting code across environments
    -   Enable seamless workflows via R Markdown & Quarto
-   **Key Features of `reticulate`**:
    -   Import Python modules via `import()`
    -   Run scripts with `source_python()` or `py_run_file()`
    -   Shared Python session across R and Python chunks
-   **Data Exchange**:
    -   Auto-conversion: vectors ‚Üî arrays, data frames ‚Üî pandas
    -   R objects available in Python via `r$`, and vice versa with `py$`

## üõ† Using Python from R

-   **Virtualenv / Conda**: manage environments cleanly

-   **Calling Python functions & classes** from `.py` files

-   **Using Python in Shiny apps**

    -   Example: compute factorial via `math.factorial`

    ``` r
    library(shiny)
    ui <- fluidPage(
    actionButton("btn", "Compute factorial"),
    verbatimTextOutput("out")
    )
    server <- function(input, output) {
    observeEvent(input$btn, {
      reticulate::py_run_string("import math; res = math.factorial(10)")
      output$out <- renderText(py$res)
    })
    }
    shinyApp(ui, server)
    ```

-   **R Markdown / Quarto**:

    -   Inline Python code in `{python}` chunks
    -   Share variables between R and Python

## Takeaways

-   Use `reticulate` to blend Python's ML power with R's statistical strength
-   Match tools to tasks without leaving your R workflow
-   Ideal for reproducible, collaborative data science

# üéØ Session 5: Build Your Own R Package

-   **Why create a package?**
    -   Reuse and organize code
    -   Provide documentation and tests
    -   Distribute via CRAN, GitHub, or internally
-   **Setup Requirements**
    -   Install `devtools`, `roxygen2`, `testthat`, `knitr`
    -   Ensure R and RStudio are updated

## üèó Package Structure

-   `DESCRIPTION`: metadata
-   `NAMESPACE`: exports and imports
-   `R/`: function definitions
-   `man/`: auto-generated docs

## üõ† Development Lifecycle

-   **5 Package States**:
    -   Source ‚Üí Bundled ‚Üí Binary ‚Üí Installed ‚Üí In-Memory
-   **Creating a Package**
    -   Use `usethis::create_package()`
    -   Write functions in `R/`, document with `roxygen2`
-   **Documentation & Export**
    -   Generate with `devtools::document()`
    -   Expose with `@export` and `@import`
-   **Build & Install**
    -   Build with `devtools::build()`
    -   Install with `devtools::install()`

## üìå Takeaways

-   R packages provide a **professional structure** to your work
-   Automate documentation, testing, and sharing
-   Essential for reproducible, collaborative, and maintainable R code

# Session 6: CRAN & GitHub Essentials

## üöÄ CRAN Submission

-   CRAN = Comprehensive R Archive Network
-   Packages must pass `R CMD check` with:
    -   ‚ùå No **ERRORs**
    -   ‚ö†Ô∏è No **WARNINGs**
    -   üìù Minimal **NOTEs**
-   Simulate checks with `rhub::check_for_cran()`
-   Submit via `devtools::release()`
-   Response from CRAN in \~1‚Äì3 days

## üõ† Before You Submit

-   Use `devtools::check()` for local testing
-   Include:
    -   Valid license
    -   ORCID info
    -   Clean examples and documentation
-   Update via version bump and `NEWS.md`

## ü§ù Collaborate via GitHub

-   Git = local version control
-   GitHub = cloud hosting and collaboration
-   RStudio integrates Git workflows
-   Use `usethis::use_github()` to link project

‚úÖ Auth via Personal Access Token (PAT) using `gitcreds`

## üß™ Daily Git Workflow

1.  Edit ‚Üí Stage ‚Üí Commit ‚Üí Push
2.  Share changes, open pull requests
3.  Check status with `usethis::git_sitrep()`

üì¶ Ideal for collaborative R package development!
=======
> üìå Choose your OOP system based on team size, project complexity, and ecosystem.



# üåê Web Apps with Shiny 

- ‚ú® Shiny = Interactive web apps in pure R (no HTML/JS!)

- üì¶ Components:

  - ui: Layout, inputs/outputs

  -  server: Logic, reactivity

- üß™ Use Cases:

  - Dashboards, simulations, teaching tools

- üîå Inputs & Outputs:

  - Inputs: sliderInput(), textInput()

  - Outputs: renderPlot(), renderText(), renderTable()

## Shiny Concepts & Deployment

- ‚ö°**Reactivity System**:
  - `reactive()`: memoized reactive expressions
  - `isolate()`: break reactive chains
  - `observeEvent()`: trigger actions without outputs

- üöÄ **Deployment Options**:
  - `shinyapps.io`, Posit Connect, university servers
  - **shinylive**: deploy as static site (experimental)

- ‚úÖ **Best Practices**:
  - Use `shinytest2` for testing
  - Modularize with `modules` for scalability
  - Sketch UI/UX before coding

- üß† **Hands-on**:
  - KNN Regression in Shiny
  - Explore shinyapps gallery for inspiration: https://shiny.posit.co/gallery/



# ‚ö° Rcpp ‚Äì High Performance with C++ in R

- üöÄ **Rcpp** bridges R and C++ for high-performance computing.
- üèÅ Use cases:
  - Speed up loops, recursion, and matrix operations
  - Access C++ libraries and STL
  - Integrate C++ in R packages

- üß∞ **Workflows**:
  - `evalCpp()`: quick one-liners
  - `cppFunction()`: inline prototypes
  - `sourceCpp()`: external C++ files with R wrappers

## üî¨ Rcpp in Action

- üß™ **Examples**:
  - Odd/Even test (basic)
```r
bool is_even(int x) {
  return x % 2 == 0;
}
```
  - VAR(1) simulation with `RcppArmadillo`
  - Fibonacci benchmark: 200√ó speedup
- **C++ Types**: `NumericVector`, `IntegerVector`, STL containers
- **Data conversion**: Seamless mapping between R and C++ objects

- üì¶ **Packaging**:
  - Use `LinkingTo: Rcpp` in DESCRIPTION
  - Automate with `usethis::use_rcpp()`
  - Maintainable, testable code with `Rcpp::compileAttributes()`


# üôè Thank you!
Questions & Discussion
>>>>>>> Stashed changes
